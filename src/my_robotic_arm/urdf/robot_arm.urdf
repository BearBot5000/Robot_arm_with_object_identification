<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /root/ros2_1/src/my_robotic_arm/urdf/robot_arm.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="ME543_robot_arm">

  <material name="silver">
    <color rgba="0.700 0.700 0.700 1.000"/>
  </material>

  <gazebo>
  <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">
    <ros2_control>
      <name>ME543_robot_arm_controller</name>
      <type>system</type>
      <hardware>
        <plugin>gazebo_ros2_control/GazeboSystem</plugin>
      </hardware>
    </ros2_control>
    <ros2_control_parameters>"/root/ros2_1/src/my_robotic_arm/config/robot_controllers.yaml"</ros2_control_parameters>
  </plugin>
</gazebo>



 <ros2_control name="ME543_robot_arm_controller">
    <joint_state_controller type="joint_state_controller/JointStateController">
      <param name="publish_rate" value="50"/>
    </joint_state_controller>
    <controllers>
      <Revolute_9_position_controller type="effort_controllers/JointPositionController">
        <joint name="Revolute_9">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Revolute_9_position_controller>
      <Revolute_10_position_controller type="effort_controllers/JointPositionController">
        <joint name="Revolute_10">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Revolute_10_position_controller>
      <Revolute_11_position_controller type="effort_controllers/JointPositionController">
        <joint name="Revolute_11">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Revolute_11_position_controller>
      <Revolute_12_position_controller type="effort_controllers/JointPositionController">
        <joint name="Revolute_12">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Revolute_12_position_controller>
      <Revolute_13_position_controller type="effort_controllers/JointPositionController">
        <joint name="Revolute_13">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Revolute_13_position_controller>
      <Slider_14_position_controller type="effort_controllers/JointPositionController">
        <joint name="Slider_14">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Slider_14_position_controller>
      <Slider_15_position_controller type="effort_controllers/JointPositionController">
        <joint name="Slider_15">
          <pid p="100.0" i="0.01" d="10.0"/>
        </joint>
      </Slider_15_position_controller>
    </controllers>
  </ros2_control>


  <gazebo reference="base_link">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
    <gravity>true</gravity>
  </gazebo>

  <gazebo reference="link_1_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <gazebo reference="link_2_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <gazebo reference="link_3_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <gazebo reference="link_4_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <gazebo reference="link_5_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <gazebo reference="jaw_1_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <gazebo reference="jaw_2_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>

  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.02448438639204284"/>
      <mass value="8.60929647902388"/>
      <inertia ixx="0.018256" ixy="0.0" ixz="-0.0" iyy="0.018256" iyz="-0.0" izz="0.033017"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="link_1_1">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.001630026838475256 0.08864476549091174"/>
      <mass value="3.9313270990949905"/>
      <inertia ixx="0.01126" ixy="-0.0" ixz="0.0" iyy="0.011239" iyz="-0.00049" izz="0.00179"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.0 -0.0 -0.04"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_1_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.0 -0.0 -0.04"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_1_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="link_2_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.1419912947970735 0.02835603992558939 0.0"/>
      <mass value="4.667984277446197"/>
      <inertia ixx="0.001356" ixy="0.000675" ixz="-0.0" iyy="0.062832" iyz="0.0" izz="0.062855"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.0 -0.03 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_2_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.0 -0.03 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_2_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="link_3_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.09848058215343625 -0.01908241714843465 0.0"/>
      <mass value="1.2932869245697551"/>
      <inertia ixx="0.000163" ixy="-0.000145" ixz="0.0" iyy="0.011569" iyz="-0.0" izz="0.011572"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.35 -0.04 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_3_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.35 -0.04 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_3_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="link_4_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.02712121246875976 -0.009511784704866407 0.0"/>
      <mass value="0.16204570892767498"/>
      <inertia ixx="8e-06" ixy="-2e-06" ixz="0.0" iyy="6.3e-05" iyz="-0.0" izz="6.3e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.65 -0.01 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_4_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.65 -0.01 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_4_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="link_5_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.029386532104826557 -1.7030590707957295e-05 2.9630374862865683e-06"/>
      <mass value="0.2977268365845034"/>
      <inertia ixx="0.000167" ixy="0.0" ixz="-0.0" iyy="4.6e-05" iyz="0.0" izz="0.000202"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.71 0.0 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_5_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.71 0.0 -0.2"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/link_5_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="jaw_1_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027876065035520092 -0.0064183792856905425 -0.007499999999999896"/>
      <mass value="0.08907498028891245"/>
      <inertia ixx="3e-06" ixy="-0.0" ixz="-0.0" iyy="2.8e-05" iyz="-0.0" izz="2.8e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.755 -0.05 -0.2075"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/jaw_1_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.755 -0.05 -0.2075"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/jaw_1_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <link name="jaw_2_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027876065035519537 0.006418379285690584 -0.007500000000000034"/>
      <mass value="0.08907498028891239"/>
      <inertia ixx="3e-06" ixy="0.0" ixz="0.0" iyy="2.8e-05" iyz="0.0" izz="2.8e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.755 0.05 -0.2075"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/jaw_2_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.755 0.05 -0.2075"/>
      <geometry>
        <mesh filename="/root/ros2_1/src/my_gazebo_worlds/meshes/jaw_2_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <joint name="Revolute 9" type="continuous">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.04"/>
    <parent link="base_link"/>
    <child link="link_1_1"/>
    <axis xyz="0.0 0.0 1.0"/>
  </joint>

  <joint name="Revolute 10" type="continuous">
    <origin rpy="0 0 0" xyz="0.0 0.03 0.16"/>
    <parent link="link_1_1"/>
    <child link="link_2_1"/>
    <axis xyz="-0.0 1.0 -0.0"/>
  </joint>

  <joint name="Revolute 11" type="continuous">
    <origin rpy="0 0 0" xyz="-0.35 0.01 0.0"/>
    <parent link="link_2_1"/>
    <child link="link_3_1"/>
    <axis xyz="-0.0 -1.0 0.0"/>
  </joint>

  <joint name="Revolute 12" type="continuous">
    <origin rpy="0 0 0" xyz="-0.3 -0.03 0.0"/>
    <parent link="link_3_1"/>
    <child link="link_4_1"/>
    <axis xyz="-0.0 -1.0 -0.0"/>
  </joint>

  <joint name="Revolute 13" type="continuous">
    <origin rpy="0 0 0" xyz="-0.06 -0.01 0.0"/>
    <parent link="link_4_1"/>
    <child link="link_5_1"/>
    <axis xyz="-1.0 0.0 -0.0"/>
  </joint>

  <joint name="Slider 14" type="prismatic">
    <origin rpy="0 0 0" xyz="-0.045 0.05 0.0075"/>
    <parent link="link_5_1"/>
    <child link="jaw_1_1"/>
    <axis xyz="-0.0 -1.0 -0.0"/>
    <limit effort="100" lower="0.0" upper="0.0" velocity="100"/>
  </joint>
  
  <joint name="Slider 15" type="prismatic">
    <origin rpy="0 0 0" xyz="-0.045 -0.05 0.0075"/>
    <parent link="link_5_1"/>
    <child link="jaw_2_1"/>
    <axis xyz="-0.0 -1.0 -0.0"/>
    <limit effort="100" lower="0.0" upper="0.0" velocity="100"/>
  </joint>
<!-- Add the camera to the end-effector link -->
  <link name="camera_link">
    <visual>
      <geometry>
        <box>
          <size>0.05 0.05 0.05</size>
        </box>
      </geometry>
      <material name="gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box>
          <size>0.05 0.05 0.05</size>
        </box>
      </geometry>
    </collision>
  </link>

  <joint name="camera_joint" type="fixed">
    <parent link="link_5_1"/>
    <child link="camera_link"/>
    <origin xyz="0 0 0.1" rpy="0 0 3.14159"/>
  </joint>

  <gazebo reference="camera_link">
    <sensor type="camera" name="camera_sensor">
      <always_on>true</always_on>
      <update_rate>30</update_rate>
      <camera>
        <horizontal_fov>1.047</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
      </camera>
      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">
        <ros>
          <namespace>/robot_arm</namespace>
          <remapping>image_raw:=/robot_arm/camera/image_raw</remapping>
        </ros>
        <always_on>true</always_on>
        <update_rate>30</update_rate>
        <camera_name>robot_arm_camera</camera_name>
        <frame_name>camera_link</frame_name>
      </plugin>
    </sensor>
  </gazebo>
</robot>